<!DOCTYPE html>
<html>
<head>
	<title></title>
	<title>Word Counter</title>
	<!-- If IE use the latest rendering engine -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- Set the page to the width of the device and set the zoon level -->
	<meta name="viewport" content="width = device-width, initial-scale = 1">
	<!-- latest compiled and minified CSS-->
	

	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
</head>


<style type="text/css">

	html,
	body {
	  height: 100%;
	  
	}

	#wrap {
	  min-height: 100%;
	  height: auto;
	  margin: 0 auto -60px;
	  padding: 0 0 60px;
	}

	

	#clear, #count {
		background-color: #47A3DA;
		color: #fff;
		border: 0.1em solid black;
	}
	
	.row {
		padding-top: 20px;
	}

	.row button {
		margin-right: 20px;
	}

	#bottom {
		margin-bottom: 40px;
	}
	
	#footer {
	  height: 60px;
	  background-color: ;
	}

</style>

<body>
<div id="wrap"> 
<div class="container">

	<div class="page-header">
		<h1>Word Counter</h1>
	</div>
	
</div>

<div class="container">
	<div class="row"> 
        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
       		<textarea id='text' class="col-lg-12 col-md-12 col-sm-12 col-xs-12" rows="10">
       	
       		</textarea>
		</div>
    </div>

    <div class="row">
		<div class="col-lg-6 col-md-6 col-sm-12 col-xs=12">
			<button id="clear" class="btn btn-default btn-lg" type="submit" onclick="clearAll()">clear</button>
			<button id="count" class="btn btn-default btn-lg" type="submit" onclick="start()">count</button>
			<h3>words: <span id="wordcount">0</span><h3>
			<h3>characters(with spaces): <span id="charcount">0</span><h3>
			<h3>letters: <span id="lettercount">0</span></h3>
		</div>
	</div>

	<div class="row">
		
		<div class="col-lg-4 col-md-6 col-sm-12 col-xs-12">
			<h2>What Counts as a word?</h2>
			<ul>
				<li>Words consisting of only letters</li>
				<li>Words with apostrophe's</li>
				<li>Words with '-' between them</li>
				<li>Words with punctuation</li>
			</ul>
		</div>

		<div id="bottom" class="col-lg-4 col-md-6 col-sm-12 col-xs-12">
			<h2>What doesn't count as a word?</h2>
				<ul>
					<li>Words with numbers</li>
					<li>Words with random characters that are not letters</li>
					<li>Words that start with an apostrophe</li>
				</ul>

		</div>


	</div>
</div>
</div>


<footer class="footer">
      <div class="container">
        <p class="text-muted">Created by Christopher Darling</p>
      </div>
</footer>



<script language="javascript" type="text/javascript">

	function start() {
		countWords();
		countChars();
		countLetter();
	}

	function clearAll() {
		document.getElementById('text').value = '';
		document.getElementById("wordcount").innerHTML = 0;
		document.getElementById("lettercount").innerHTML = 0;
		document.getElementById("charcount").innerHTML = 0;
	}
	
	function countWords() {
		var s = document.getElementById("text").value;
		s = s.trim();
		var words = s.split(' ');
		var counter = 0;
		for (var i = 0; i < words.length; i++) {
			if (isWord(words[i])) {
				counter++;
			}
		}

		document.getElementById("wordcount").innerHTML = counter;
	}

	function isWord(str) {

		// checking if first character in word is a letter
		if ( !( (str.charCodeAt(0) >= 65) && (str.charCodeAt(0) <= 90) ||
			   (str.charCodeAt(0) >= 97) &&  (str.charCodeAt(0) <= 122) ) ) {
			return false;
		}

		// checks if word has punctuation
		var hasPunctuation = false;
		var punctuation = ".?!,;:";
		for (var i = 0; i < punctuation.length; i++) {
			if (str.charCodeAt(str.length-1) === punctuation.charCodeAt(i)) {
				hasPunctuation = true;
			}
		}


		for (var i = 0; i < str.length; i++) {
			
			if ( !( (str.charCodeAt(i) >= 65) && (str.charCodeAt(i) <= 90) ||
			   (str.charCodeAt(i) >= 97) &&  (str.charCodeAt(i) <= 122) )
			   && str.charCodeAt(i) != 39 && str.charCodeAt(i) != 45 ) {

			   	if (i == (str.length-1) && (hasPunctuation)) {
			   		// do nothing
			   	} else {
			   		return false;
			   	}
				
				
			}
		}

		return true;

		
	}


	function countChars() {
		var s = document.getElementById("text").value;
		s = s.trim();
		document.getElementById("charcount").innerHTML = s.split('').length;
		return s;
	}

	function countLetter() {
		var letters = countChars();
		var count = 0;
		for (var i = 0; i < letters.length; i++) {
			if ((letters.charCodeAt(i) >= 65) && (letters.charCodeAt(i) <= 90) ||
			   (letters.charCodeAt(i) >= 97) &&  (letters.charCodeAt(i) <= 122)) {
				count++;
			}
		}

		document.getElementById("lettercount").innerHTML = count;
	}
	

	

	

</script>
</body>
</html>
